---
name: TODO Check

'on':
  push:
    branches: [main]
  pull_request:
    branches: [main]

permissions:
  contents: read

jobs:
  check_todos:
    runs-on: ubuntu-latest
    name: Check for new TODOs
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: TODO Creeper (Error on PR, Warning on main)
        uses: Gustrb/todo-creeper@v1.0.0
        continue-on-error: ${{ github.event_name == 'push' && github.ref == 'refs/heads/main' }}
        with:
          exclude: |
            docs/integrations/dependency-injection.md:32
            docs/integrations/windsor.md:39
            docs/integrations/autofac.md:108
            docs/integrations/autofac.md:117
            docs/quickstart/index.md:245
            docs/guides/how-to-configure-cucumber-expression-behavior.md:54
            docs/guides/how-to-configure-cucumber-expression-behavior.md:79
            docs/ide-integrations/rider/index.md:5
            docs/ide-integrations/vscode/index.md:5
            docs/help/support.md:5
            Templates/Reqnroll.Templates.DotNet/templates/reqnroll-project/StepDefinitions/CalculatorStepDefinitions.cs:13
            Templates/Reqnroll.Templates.DotNet/templates/reqnroll-project/StepDefinitions/CalculatorStepDefinitions.cs:25
            Templates/Reqnroll.Templates.DotNet/templates/reqnroll-project/StepDefinitions/CalculatorStepDefinitions.cs:33
            Templates/Reqnroll.Templates.DotNet/templates/reqnroll-project/StepDefinitions/CalculatorStepDefinitions.cs:41
            Plugins/Reqnroll.Microsoft.Extensions.DependencyInjection.ReqnrollPlugin/DependencyInjectionPlugin.cs:151
            Plugins/Reqnroll.ExternalData/Reqnroll.ExternalData.ReqnrollPlugin/DataSources/ExternalDataSpecification.cs:36
            Tests/Reqnroll.SystemTests/ExternalPlugins/SpecSyncPluginTest.cs:8
            Tests/Reqnroll.SystemTests/ExternalPlugins/SpecSyncPluginTest.cs:20
            Tests/Reqnroll.SystemTests/ExternalPlugins/SpecSyncPluginTest.cs:35
            Tests/TestProjectGenerator/Reqnroll.TestProjectGenerator/ProjectBuilder.cs:431
            Reqnroll.Generator/UnitTestProvider/XUnit2TestGeneratorProvider.cs:78
            Reqnroll.Generator/Generation/ScenarioPartHelper.cs:148
            Reqnroll/FeatureInfo.cs:36
            Reqnroll/Bindings/BindingRegistry.cs:36
            Reqnroll/Bindings/Reflection/BindingReflectionExtensions.cs:99
            Reqnroll/PlatformCompatibility/MonoHelper.cs:24
